<?php/*** Script, usually called by AJAX, which returns a JSON string, giving details about a particular* item. Item is created from it's ID being passes as $_GET['item_id'].** It returns some human readable descriptions of the item, as well as what actions can be done by* the currently logged in player.*/define ('LOGIN', 1);// I'd like to force this to "only if the user is looking at the invent page" but "invent" isn't a stage...// come back to this later.require_once ('../includes/notextinc.php');header('Content-type: application/json');$return = array ();// we need an item_idif (!is_numeric ($_GET['item_id'])) {	$return['status'] = "failure";	$return['message'] = "A problem occured with that page load.";} else {	$Item = new Item ($_GET['item_id']);	if ($Item->exists()) {		$return['item']['item_id'] = (int) $Item->getId();		$return['item']['name'] = ucfirst ($Item->getName ());		$return['item']['description'] = "<p>You can carry ".$Item->getMaxQty()." of these.</p>";		$return['item']['actions'] = $Item->getActions ($Character);				$return['status'] = "success";	} else {		$return['status'] = "failure";		$return['message'] = "The item ID given doesn't exist.";	}}echo json_encode ($return);?>