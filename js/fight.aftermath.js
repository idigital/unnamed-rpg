window.xp_changes = [];$(function () {	updateUI();	setInterval ("updateUI()", 700);});function updateUI () {	if (window.xp_changes[0]) {		// if the current width is 100 (meaning 100%), then knock it down to zero first.		if ($('.char_xp_bar').width() == 100) $('.char_xp_bar').width("0px");			changeXP (window.xp_changes[0][0], window.xp_changes[0][1]);				$('.char_level').html(window.xp_changes[0][2]);				window.xp_changes.shift();	}}/*** Animates the movement of XP, and updates UI** @param int The numeric XP to change it to* @param int The percent that is of the level*/function changeXP (change_to, percent_to) {	$(function() {		$('.char_xp_bar').animate (			{width: percent_to+"px"},			600,			function () {				$('.char_xp').html (change_to);			}		).css('overflow', 'visible');	});		return;}function levelUp (new_level, new_xp, new_percent) {	// what's the current level?	current_level = parseInt ($('.char_level').html(), 10);		// we want to give the effect that the XP bar is filling up to 100%, until we get to the correct level.	while (current_level < new_level) {		// fill this level to to 100%		window.xp_changes.push ([new_xp, 100, current_level]);		current_level++;	}		// current level will now be the new_level, we just need to knock up the percent to the correct value	window.xp_changes.push ([new_xp, new_percent, new_level]);		return;}